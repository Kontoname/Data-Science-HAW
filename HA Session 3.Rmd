---
title: "R Notebook"
output: html_notebook
---

---
title: "Ha Session 3"
output: html_notebook
---

#Aufgabe1 Spielen Sie mit den Support- und Confidence-Werten. Was fällt Ihnen auf?

Leider hat es hier nicht Funktioniert, den Bücher-Datensatz in die transactions class umzuwandeln. Mein Gedanke war, den zusammengelegten Datensatz der letzten Session auf "User-ID" und"Book-Title" zu reduzieren und dies in die transactions class umzuwandeln.Ich hab versucht den Datensatz direkt mit 
trans <- as(Alle_Daten, "transactions") 
umzuwandeln, was zu keinem Ergebniss führte. 
Nach recherche im Internet habe ich unter anderem

translist <- ddply(Alle_Daten2,c("`User-ID`"), 
                       function(df1)paste(df1$`Book-Title`, 
                       collapse = ","))
und später noch

trans <- as(split(translist[,"Book-title"], translist[,"User-ID"]), "transactions")

ausprobiert, aber auch hier wurden jedes mal "0" Regeln erstellt. Um die Aufgabe zumindest bearbeiten zu können, habe ich stattdesen den "Groceries"-Datensatz verwendet, der ja bereits in der transactions class voriegt. 


#Arules library und Datensatz laden
```{r}
library(arules)

data("Groceries")
```

#Assoziationsregeln erstellen zum herumprobieren
```{r}
groc.rules <- apriori(Groceries, parameter=list(supp=0.03, conf=0.1, 
                                                target="rules"))
```
```{r}
head(inspect(subset(groc.rules)), 20)
```
#Assoziationsregeln erstellen zum vergleichen
```{r}
groc.rules <- apriori(Groceries, parameter=list(supp=0.01, conf=0.1, 
                                                target="rules"))
```
```{r}
head(inspect(subset(groc.rules)), 20)
```
Wenn der Conidence Wert erhöht wird, nimmt die Anzahl der Treffer zwar merklich ab, dafür wirken die Treffer augenscheinlich sehr viel realistischer, als sie es bei einem kleinen Confidence Wert tun. 

#Aufgabe2 Wir haben jetzt alle Bewertungen drin, ergibt das Sinn?
Da unter den Bewertungen viele ungültige Bewertungen von "0" enthalten sind, werden die Ergebnisse dadurch verfälscht. Diese Bewertungen mit einzubeziehen ist daher nicht sinnvoll.

#Aufgabe3 Wie könnte eine bessere Lösung aussehen?
Die Bewertungen unter einem Wert von "1" könnten herausgefiltert werden. Eine weitere Möglichkeit wäre, alle Bewertungen von 0 z.B. zu n.a. umzuwandeln.

#Aufgabe4 Erstellen Sie eine Analyse, bei der nicht die Bücher, sondern die Autoren in den Transaktionen enthalten sind
Diese Aufgabe konnte ich aus den in Aufgabe1 gennanten Gründen nicht durchführen. 

#Aufgabe5 Fällt Ihnen etwas in der Datenqualität auf?
Ein Blick in den books-Datensatz zeigt, dass einige Autorennamen gleich sind, sich aber in der Schreibweise oder durch ein Sonderzeichen unterscheiden. 

#Aufgabe6 Wie könnte man das mit regulären Ausdrücken beheben?
Mit Regulären Ausdrücken können klare Regeln für die Darstellung von namen definiert werden, sodass Doppelungen von Namen durch Umlaute oder Groß-Klein-Schreibung verhindert werden können. 

#Aufgabe7 Wie kann man nun noch sicherstellen, dass nur die Autoren weiterempfohlen werden, deren Bücher man auch (mehrheitlich) gut fand?
Man könnte die Bewertungen und Nutzer-ID mit einbeziehen und die Autoren herausfiltern, bei denen man selbst eine hohe Bewertung vergeben hat.

#Aufgabe8 Welche anderen Features wären sinnvoll?
Genres mit einbeziehen, um genauere Vorschläge machen zu können. Außerdem könnte man das Erscheinungsdatum mit einbeziehen, um aktuellere Vorschläge auch zu neuerscheinungen machen zu können. 
